- en: Reading and writing text files
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Reading text files
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The easiest way to read a text file is the readText method of File: it simply
    returns the entire file as a single string:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'If you want to read the lines into a List<String>, with one element for each
    line, you can use readLines():'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'If you want to store the lines in a set, or if you want to do some additional
    filtering or processing, the following is more efficient:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'If you need to do some more complicated processing on the lines of the file,
    the forEachLine method of the File class is convenient. It takes as argument a
    function object that takes one string argument. The method calls this function
    object for each line of the file in sequence:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Note the use of the magic name it for the contents of each line.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you need to do something more complicated, possibly resetting the reading
    to the beginning of the file, skipping parts of the file, etc., use a BufferedReader
    ([readfile1.kts](https://github.com/otfried/cs109-kotlin/raw/master/tutorial/94-files/readfile1.kts)):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Note that readLine returns a String?, and you have to close the reader when
    you are done.
  prefs: []
  type: TYPE_NORMAL
- en: 'By wrapping the reading code in a use block, closing the reader becomes automatic
    (and happens even if we return early from the function or throw an exception)
    ([readfile2.kts](https://github.com/otfried/cs109-kotlin/raw/master/tutorial/94-files/readfile2.kts)):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Writing text files
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'To write a text file, create a PrintWriter. It supports methods print and println,
    which works just like printing to the terminal. Don''t forget to close the PrintWriter,
    otherwise your file will be incomplete: ([writefile1.kts](https://github.com/otfried/cs109-kotlin/raw/master/tutorial/94-files/writefile1.kts)):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Again we can make closing the file automatic by using use: ([writefile2.kts](https://github.com/otfried/cs109-kotlin/raw/master/tutorial/94-files/writefile2.kts)):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
