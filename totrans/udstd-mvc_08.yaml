- en: Notes
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 注意
- en: Notes
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 注意
- en: the [](GLOSSARY.html) notification [](GLOSSARY.html) mechanism [](GLOSSARY.html)
    basically [](GLOSSARY.html) allow [](GLOSSARY.html) to [](GLOSSARY.html) inject
    [](GLOSSARY.html) code [](GLOSSARY.html) in [](GLOSSARY.html) setters.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 通知机制基本上允许在设置器中注入代码。
- en: Local [](GLOSSARY.html) models, or [](GLOSSARY.html) one [](GLOSSARY.html) global
    [](GLOSSARY.html) model?
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本地模型，还是一个全局模型？
- en: 'the [](GLOSSARY.html) view [](GLOSSARY.html) should [](GLOSSARY.html) be [](GLOSSARY.html)
    able [](GLOSSARY.html) to [](GLOSSARY.html) query [](GLOSSARY.html) or [](GLOSSARY.html)
    inform [](GLOSSARY.html) the [](GLOSSARY.html) controller [](GLOSSARY.html) for
    [](GLOSSARY.html) action (will, should, did): delegate'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 视图应能够查询或通知控制器执行动作（将要、应该、已经）：委托
- en: 'Compare [](GLOSSARY.html) OSX [](GLOSSARY.html) bindings [](GLOSSARY.html)
    with [](GLOSSARY.html) MVVM ? Same [](GLOSSARY.html) stuff? FIXME: relationship
    [](GLOSSARY.html) with [](GLOSSARY.html) apple, where [](GLOSSARY.html) the [](GLOSSARY.html)
    view [](GLOSSARY.html) is [](GLOSSARY.html) replaced [](GLOSSARY.html) with [](GLOSSARY.html)
    the [](GLOSSARY.html) child [](GLOSSARY.html) controller ?'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 比较OSX绑定与MVVM？相同的东西？FIXME：与苹果的关系，在那里视图被替换为子控制器？
- en: All [](GLOSSARY.html) intralayer [](GLOSSARY.html) communication [](GLOSSARY.html)
    can [](GLOSSARY.html) only [](GLOSSARY.html) be [](GLOSSARY.html) routed [](GLOSSARY.html)
    through [](GLOSSARY.html) controller-controller [](GLOSSARY.html) connection.
    This [](GLOSSARY.html) connection [](GLOSSARY.html) is [](GLOSSARY.html) bidirectional.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 所有层内通信只能通过控制器-控制器连接路由。这种连接是双向的。
- en: following [](GLOSSARY.html) the [](GLOSSARY.html) hierarchic [](GLOSSARY.html)
    composition [](GLOSSARY.html) of [](GLOSSARY.html) the [](GLOSSARY.html) GUI [](GLOSSARY.html)
    nesting. The [](GLOSSARY.html) model [](GLOSSARY.html) can [](GLOSSARY.html) be
    [](GLOSSARY.html) the same. In [](GLOSSARY.html) pratice, the [](GLOSSARY.html)
    scheme [](GLOSSARY.html) given [](GLOSSARY.html) above [](GLOSSARY.html) can [](GLOSSARY.html)
    be [](GLOSSARY.html) simplified [](GLOSSARY.html) by [](GLOSSARY.html) assuming
    [](GLOSSARY.html) a [](GLOSSARY.html) given hierarchy [](GLOSSARY.html) talks
    [](GLOSSARY.html) to [](GLOSSARY.html) the [](GLOSSARY.html) same [](GLOSSARY.html)
    model [](GLOSSARY.html) In [](GLOSSARY.html) J2EE, this [](GLOSSARY.html) approach
    [](GLOSSARY.html) is [](GLOSSARY.html) also [](GLOSSARY.html) known [](GLOSSARY.html)
    as Composite [](GLOSSARY.html) View.[11] [PIC [](GLOSSARY.html) of [](GLOSSARY.html)
    an [](GLOSSARY.html) example [](GLOSSARY.html) of [](GLOSSARY.html) a [](GLOSSARY.html)
    hierarchy [](GLOSSARY.html) with [](GLOSSARY.html) real [](GLOSSARY.html) widgets]
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 遵循GUI嵌套的分层组成。模型可以是相同的。实践中，上述方案可以通过假定给定的层次结构与相同的模型交谈来简化。在J2EE中，这种方法也被称为组合视图。[11]
    [一个具有真实小部件的层次结构示例的图片]
- en: Keep [](GLOSSARY.html) networks [](GLOSSARY.html) simple [](GLOSSARY.html) and
    [](GLOSSARY.html) close.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 保持网络简单且紧密。
- en: Order [](GLOSSARY.html) of [](GLOSSARY.html) notification [](GLOSSARY.html)
    can [](GLOSSARY.html) have [](GLOSSARY.html) unexpected [](GLOSSARY.html) consequences
    [](GLOSSARY.html) on [](GLOSSARY.html) the [](GLOSSARY.html) state [](GLOSSARY.html)
    of [](GLOSSARY.html) your [](GLOSSARY.html) program.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 通知的顺序可能对程序状态产生意想不到的影响。
- en: keep [](GLOSSARY.html) your [](GLOSSARY.html) views [](GLOSSARY.html) able [](GLOSSARY.html)
    to [](GLOSSARY.html) deal [](GLOSSARY.html) with [](GLOSSARY.html) missing [](GLOSSARY.html)
    model [](GLOSSARY.html) or [](GLOSSARY.html) invalid [](GLOSSARY.html) data.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 保持你的视图能够处理缺失的模型或无效的数据。
- en: '-'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '-'
- en: 'FIXME: pluggable [](GLOSSARY.html) view [](GLOSSARY.html) is [](GLOSSARY.html)
    overloaded [](GLOSSARY.html) as [](GLOSSARY.html) a [](GLOSSARY.html) term. Detail.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 'FIXME: 可插拔的[视图](GLOSSARY.html)被过载为一个术语。详细信息。'
- en: Naturally [](GLOSSARY.html) evolving [](GLOSSARY.html) toward [](GLOSSARY.html)
    a [](GLOSSARY.html) more [](GLOSSARY.html) declarative [](GLOSSARY.html) style
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 自然地向更具声明性的风格演变
- en: define [](GLOSSARY.html) your [](GLOSSARY.html) models [](GLOSSARY.html) as
    [](GLOSSARY.html) having [](GLOSSARY.html) atomic [](GLOSSARY.html) operations,
    be [](GLOSSARY.html) careful [](GLOSSARY.html) of [](GLOSSARY.html) uncontrolled
    [](GLOSSARY.html) notifications.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 将你的模型定义为具有原子操作，小心处理不受控制的通知。
- en: Problem [](GLOSSARY.html) with [](GLOSSARY.html) double [](GLOSSARY.html) notification
    [](GLOSSARY.html) if [](GLOSSARY.html) one [](GLOSSARY.html) notification [](GLOSSARY.html)
    is [](GLOSSARY.html) a [](GLOSSARY.html) subset [](GLOSSARY.html) of [](GLOSSARY.html)
    another. e.g. contentChanged/lineMetaChanged [](GLOSSARY.html) and [](GLOSSARY.html)
    contentChanged/lineAdded. How [](GLOSSARY.html) to [](GLOSSARY.html) handle the
    [](GLOSSARY.html) double [](GLOSSARY.html) notification? Pass [](GLOSSARY.html)
    an "event [](GLOSSARY.html) id" in [](GLOSSARY.html) the [](GLOSSARY.html) signal
    [](GLOSSARY.html) so [](GLOSSARY.html) that [](GLOSSARY.html) the [](GLOSSARY.html)
    client realizes [](GLOSSARY.html) that [](GLOSSARY.html) it's [](GLOSSARY.html)
    the [](GLOSSARY.html) same [](GLOSSARY.html) change [](GLOSSARY.html) that [](GLOSSARY.html)
    delivers [](GLOSSARY.html) two [](GLOSSARY.html) messages?
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个通知是另一个通知的子集，会出现双重通知问题。例如，contentChanged/lineMetaChanged和contentChanged/lineAdded。如何处理双重通知？在信号中传递一个“事件id”，这样客户端就会意识到它是传递了两条消息的相同变化。
- en: 'FIXME: MVC [](GLOSSARY.html) Notifications [](GLOSSARY.html) are [](GLOSSARY.html)
    always [](GLOSSARY.html) considered [](GLOSSARY.html) to [](GLOSSARY.html) be
    [](GLOSSARY.html) synchronous. They [](GLOSSARY.html) invoke [](GLOSSARY.html)
    methods [](GLOSSARY.html) directly and [](GLOSSARY.html) wait [](GLOSSARY.html)
    for [](GLOSSARY.html) them [](GLOSSARY.html) to [](GLOSSARY.html) return.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 'FIXME: MVC [通知](GLOSSARY.html)总是被认为是同步的。它们直接调用方法并等待它们返回。'
- en: Typical [](GLOSSARY.html) situation atapplication [](GLOSSARY.html) startup,
    a [](GLOSSARY.html) communication [](GLOSSARY.html) network [](GLOSSARY.html)
    is [](GLOSSARY.html) created. the [](GLOSSARY.html) event [](GLOSSARY.html) loop
    [](GLOSSARY.html) takes [](GLOSSARY.html) control, in [](GLOSSARY.html) the [](GLOSSARY.html)
    main [](GLOSSARY.html) thread. Every [](GLOSSARY.html) time [](GLOSSARY.html)
    there's [](GLOSSARY.html) an [](GLOSSARY.html) event, the [](GLOSSARY.html) event
    [](GLOSSARY.html) loop [](GLOSSARY.html) dispatches [](GLOSSARY.html) that [](GLOSSARY.html)
    event. This [](GLOSSARY.html) in [](GLOSSARY.html) turn [](GLOSSARY.html) triggers
    [](GLOSSARY.html) changes [](GLOSSARY.html) that [](GLOSSARY.html) obey [](GLOSSARY.html)
    the [](GLOSSARY.html) static [](GLOSSARY.html) network [](GLOSSARY.html) and [](GLOSSARY.html)
    the dynamic [](GLOSSARY.html) network [](GLOSSARY.html) through [](GLOSSARY.html)
    either [](GLOSSARY.html) direct [](GLOSSARY.html) calls [](GLOSSARY.html) or [](GLOSSARY.html)
    indirect (notification) calls. During [](GLOSSARY.html) the [](GLOSSARY.html)
    whole [](GLOSSARY.html) cascade, the [](GLOSSARY.html) application [](GLOSSARY.html)
    is [](GLOSSARY.html) frozen [](GLOSSARY.html) until [](GLOSSARY.html) control
    is [](GLOSSARY.html) returned [](GLOSSARY.html) to [](GLOSSARY.html) the [](GLOSSARY.html)
    event [](GLOSSARY.html) loop.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 典型的[应用程序启动](GLOSSARY.html)情况，会创建一个[通信网络](GLOSSARY.html)。事件循环接管，在主线程中。每当有[事件](GLOSSARY.html)发生时，事件循环都会分发该事件。这反过来触发了遵循静态[网络](GLOSSARY.html)和动态[网络](GLOSSARY.html)的变化，通过直接调用或间接（通知）调用。在整个级联过程中，应用程序都会冻结，直到控制返回到事件循环。
- en: Distinguish [](GLOSSARY.html) between [](GLOSSARY.html) Notifications (that
    [](GLOSSARY.html) are [](GLOSSARY.html) synchronous [](GLOSSARY.html) calls [](GLOSSARY.html)
    using [](GLOSSARY.html) the [](GLOSSARY.html) observer [](GLOSSARY.html) pattern)
    vs [](GLOSSARY.html) events (that [](GLOSSARY.html) instead [](GLOSSARY.html)
    are [](GLOSSARY.html) dispatched [](GLOSSARY.html) through [](GLOSSARY.html) the
    [](GLOSSARY.html) event [](GLOSSARY.html) loop)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 区分通知（使用观察者模式进行同步调用的）和事件（通过事件循环分派的）之间的区别。
- en: With [](GLOSSARY.html) signals, you [](GLOSSARY.html) might [](GLOSSARY.html)
    have [](GLOSSARY.html) to [](GLOSSARY.html) adapt [](GLOSSARY.html) the [](GLOSSARY.html)
    signals [](GLOSSARY.html) that [](GLOSSARY.html) your [](GLOSSARY.html) model
    [](GLOSSARY.html) emits to [](GLOSSARY.html) the [](GLOSSARY.html) specific [](GLOSSARY.html)
    needs [](GLOSSARY.html) of [](GLOSSARY.html) your [](GLOSSARY.html) views. A [](GLOSSARY.html)
    coarse [](GLOSSARY.html) grained [](GLOSSARY.html) signal [](GLOSSARY.html) that
    [](GLOSSARY.html) forces a [](GLOSSARY.html) heavy [](GLOSSARY.html) refresh [](GLOSSARY.html)
    on [](GLOSSARY.html) the [](GLOSSARY.html) view [](GLOSSARY.html) may [](GLOSSARY.html)
    be [](GLOSSARY.html) better [](GLOSSARY.html) split [](GLOSSARY.html) into [](GLOSSARY.html)
    a [](GLOSSARY.html) separate [](GLOSSARY.html) signal specific [](GLOSSARY.html)
    to [](GLOSSARY.html) the [](GLOSSARY.html) area [](GLOSSARY.html) of [](GLOSSARY.html)
    the [](GLOSSARY.html) model [](GLOSSARY.html) that [](GLOSSARY.html) actually
    [](GLOSSARY.html) affects [](GLOSSARY.html) the [](GLOSSARY.html) view. In practice,
    the [](GLOSSARY.html) model [](GLOSSARY.html) communication [](GLOSSARY.html)
    pattern [](GLOSSARY.html) may [](GLOSSARY.html) have [](GLOSSARY.html) to [](GLOSSARY.html)
    adapt [](GLOSSARY.html) to [](GLOSSARY.html) the [](GLOSSARY.html) View's implementation
    [](GLOSSARY.html) details [](GLOSSARY.html) to [](GLOSSARY.html) guarantee [](GLOSSARY.html)
    responsiveness.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[GLOSSARY.html]信号，您可能需要调整您的模型发出的信号以满足您的视图的特定需求。一个粗粒度的信号，强制视图进行大量刷新，可能更好地分割成一个针对实际影响视图的模型区域的单独信号。在实践中，模型通信模式可能需要根据视图的实现细节进行调整，以确保响应性。
- en: For [](GLOSSARY.html) example, if [](GLOSSARY.html) you [](GLOSSARY.html) have
    [](GLOSSARY.html) a [](GLOSSARY.html) view [](GLOSSARY.html) displaying [](GLOSSARY.html)
    the [](GLOSSARY.html) number [](GLOSSARY.html) of [](GLOSSARY.html) lines [](GLOSSARY.html)
    in [](GLOSSARY.html) a [](GLOSSARY.html) document, subscribing [](GLOSSARY.html)
    to [](GLOSSARY.html) a [](GLOSSARY.html) contentChanged [](GLOSSARY.html) signal
    [](GLOSSARY.html) may [](GLOSSARY.html) require [](GLOSSARY.html) a [](GLOSSARY.html)
    recalculation [](GLOSSARY.html) of [](GLOSSARY.html) the [](GLOSSARY.html) number
    of [](GLOSSARY.html) lines [](GLOSSARY.html) at [](GLOSSARY.html) every [](GLOSSARY.html)
    character [](GLOSSARY.html) inserted. It [](GLOSSARY.html) may [](GLOSSARY.html)
    make [](GLOSSARY.html) sense [](GLOSSARY.html) to [](GLOSSARY.html) provide [](GLOSSARY.html)
    a [](GLOSSARY.html) lineNumberChanged signal, so [](GLOSSARY.html) that [](GLOSSARY.html)
    line [](GLOSSARY.html) number [](GLOSSARY.html) display [](GLOSSARY.html) is [](GLOSSARY.html)
    updated [](GLOSSARY.html) only [](GLOSSARY.html) when [](GLOSSARY.html) the [](GLOSSARY.html)
    model [](GLOSSARY.html) actually performs [](GLOSSARY.html) a [](GLOSSARY.html)
    change [](GLOSSARY.html) in [](GLOSSARY.html) the [](GLOSSARY.html) total [](GLOSSARY.html)
    number [](GLOSSARY.html) of [](GLOSSARY.html) lines.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果您有一个显示文档中行数的视图，订阅contentChanged信号可能需要在每次插入字符时重新计算行数。提供一个lineNumberChanged信号可能是有意义的，这样行号显示仅在模型实际更改总行数时更新。
- en: Some [](GLOSSARY.html) toolkit [](GLOSSARY.html) and [](GLOSSARY.html) libraries
    [](GLOSSARY.html) allow [](GLOSSARY.html) you [](GLOSSARY.html) to [](GLOSSARY.html)
    define [](GLOSSARY.html) the [](GLOSSARY.html) network [](GLOSSARY.html) dynamically.
    Other [](GLOSSARY.html) allow [](GLOSSARY.html) you [](GLOSSARY.html) to [](GLOSSARY.html)
    define [](GLOSSARY.html) the [](GLOSSARY.html) network [](GLOSSARY.html) statically.
    The [](GLOSSARY.html) network [](GLOSSARY.html) cannot [](GLOSSARY.html) be [](GLOSSARY.html)
    changed.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 一些工具包和库允许您动态定义网络。其他允许您静态定义网络。网络无法更改。
- en: How [](GLOSSARY.html) to [](GLOSSARY.html) handle [](GLOSSARY.html) null [](GLOSSARY.html)
    values.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如何处理空值。
- en: 'Practical Example: Monitoring file contents'
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 实际示例：监控文件内容
- en: A [](GLOSSARY.html) Model [](GLOSSARY.html) that [](GLOSSARY.html) represents
    [](GLOSSARY.html) the [](GLOSSARY.html) contents [](GLOSSARY.html) of [](GLOSSARY.html)
    a [](GLOSSARY.html) file [](GLOSSARY.html) is [](GLOSSARY.html) unable [](GLOSSARY.html)
    to [](GLOSSARY.html) trigger [](GLOSSARY.html) any [](GLOSSARY.html) notification
    [](GLOSSARY.html) if changes [](GLOSSARY.html) from [](GLOSSARY.html) an [](GLOSSARY.html)
    external [](GLOSSARY.html) source [](GLOSSARY.html) are [](GLOSSARY.html) performed
    [](GLOSSARY.html) in [](GLOSSARY.html) the [](GLOSSARY.html) file. ^([1](#fn_1))
    the [](GLOSSARY.html) Model [](GLOSSARY.html) can [](GLOSSARY.html) be [](GLOSSARY.html)
    implemented [](GLOSSARY.html) so [](GLOSSARY.html) that [](GLOSSARY.html) the
    [](GLOSSARY.html) Controller [](GLOSSARY.html) occasionally [](GLOSSARY.html)
    requests (e.g. with [](GLOSSARY.html) a [](GLOSSARY.html) timer) to [](GLOSSARY.html)
    verify [](GLOSSARY.html) if [](GLOSSARY.html) changed [](GLOSSARY.html) occurred.
    When [](GLOSSARY.html) such [](GLOSSARY.html) changes [](GLOSSARY.html) are [](GLOSSARY.html)
    found, the [](GLOSSARY.html) Controller [](GLOSSARY.html) can [](GLOSSARY.html)
    act to [](GLOSSARY.html) update [](GLOSSARY.html) the [](GLOSSARY.html) View.
    Alternatively, the [](GLOSSARY.html) Model [](GLOSSARY.html) can [](GLOSSARY.html)
    perform [](GLOSSARY.html) notification [](GLOSSARY.html) to [](GLOSSARY.html)
    the [](GLOSSARY.html) listening [](GLOSSARY.html) Views as [](GLOSSARY.html) in
    [](GLOSSARY.html) an [](GLOSSARY.html) Active [](GLOSSARY.html) Model
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 代表文件内容的模型无法触发任何通知，如果来自外部源的更改在文件中进行。 ^([1](#fn_1)) 模型可以被实现为控制器偶尔请求（例如使用定时器）来验证是否发生了更改。当发现这样的更改时，控制器可以采取行动更新视图。或者，模型可以向监听视图执行通知，就像在活动模型中一样。
- en: or [](GLOSSARY.html) by [](GLOSSARY.html) having [](GLOSSARY.html) an [](GLOSSARY.html)
    Active [](GLOSSARY.html) Model [](GLOSSARY.html) that [](GLOSSARY.html) uses [](GLOSSARY.html)
    a [](GLOSSARY.html) secondary [](GLOSSARY.html) thread [](GLOSSARY.html) to [](GLOSSARY.html)
    monitor [](GLOSSARY.html) for [](GLOSSARY.html) changes [](GLOSSARY.html) in [](GLOSSARY.html)
    the [](GLOSSARY.html) file, and [](GLOSSARY.html) issues [](GLOSSARY.html) notification
    when [](GLOSSARY.html) such [](GLOSSARY.html) changes [](GLOSSARY.html) are [](GLOSSARY.html)
    found
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 或者通过拥有一个使用次要线程来监视文件中的更改，并在发现这些更改时发出通知的活动模型来处理。
- en: unless [](GLOSSARY.html) an [](GLOSSARY.html) appropriate [](GLOSSARY.html)
    implementation [](GLOSSARY.html) handles
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 除非适当的实现处理。
- en: ^([1](#fn_1)) In [](GLOSSARY.html) this [](GLOSSARY.html) discussion, we [](GLOSSARY.html)
    ignore [](GLOSSARY.html) the [](GLOSSARY.html) problem [](GLOSSARY.html) to [](GLOSSARY.html)
    obtain [](GLOSSARY.html) a [](GLOSSARY.html) consistent [](GLOSSARY.html) state
    [](GLOSSARY.html) while [](GLOSSARY.html) reading [](GLOSSARY.html) a [](GLOSSARY.html)
    potentially [](GLOSSARY.html) incomplete [](GLOSSARY.html) file.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](#fn_1)) 在[](GLOSSARY.html)这个[](GLOSSARY.html)讨论中，我们[](GLOSSARY.html)忽略了[](GLOSSARY.html)在[](GLOSSARY.html)阅读[](GLOSSARY.html)一个可能[](GLOSSARY.html)不完整的文件时获得一致状态的问题。
