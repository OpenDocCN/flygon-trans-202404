- en: '8\. Inference vs. Prediction: Implications for Modeling Strategy'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Understanding whether you’re answering an inferential question versus a prediction
    question is an important concept because the type of question you’re answering
    can greatly influence the modeling strategy you pursue. If you do not clearly
    understand which type of question you are asking, you may end up using the wrong
    type of modeling approach and ultimately make the wrong conclusions from your
    data. The purpose of this chapter is to show you what can happen when you confuse
    one question for another.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: The key things to remember are
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: For **inferential questions** the goal is typically to estimate an association
    between a predictor of interest and the outcome. There is usually only a handful
    of predictors of interest (or even just one), however there are typically many
    potential confounding variables to consider. They key goal of modeling is to estimate
    an association while making sure you appropriately adjust for any potential confounders.
    Often, sensitivity analyses are conducted to see if associations of interest are
    robust to different sets of confounders.
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For **prediction questions** the goal is to identify a model that *best predicts*
    the outcome. Typically we do not place any *a priori* importance on the predictors,
    so long as they are good at predicting the outcome. There is no notion of “confounder”
    or “predictors of interest” because all predictors are potentially useful for
    predicting the outcome. Also, we often do not care about “how the model works”
    or telling a detailed story about the predictors. The key goal is to develop a
    model with good prediction skill and to estimate a reasonable error rate from
    the data.
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 8.1 Air Pollution and Mortality in New York City
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The following example shows how different types of questions and corresponding
    modeling approaches can lead to different conclusions. The example uses air pollution
    and mortality data for New York City. The data were originally used as part of
    the [National Morbidity, Mortality, and Air Pollution Study](http://www.ihapss.jhsph.edu)
    (NMMAPS).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: Below is a plot of the daily mortality from all causes for the years 2001–2005.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: '![Daily Mortality in New York City, 2001--2005](images/inferencepred-unnamed-chunk-3-1.png)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
- en: Daily Mortality in New York City, 2001–2005
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: And here is a plot of 24-hour average levels of particulate matter with aerodynamic
    diameter less than or equal to 10 microns (PM10).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '![Daily PM10 in New York City, 2001--2005](images/inferencepred-unnamed-chunk-4-1.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
- en: Daily PM10 in New York City, 2001–2005
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: Note that there are many fewer points on the plot above than there were on the
    plot of the mortality data. This is because PM10 is not measured everyday. Also
    note that there are negative values in the PM10 plot–this is because the PM10
    data were mean-subtracted. In general, negative values of PM10 are not possible.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: 8.2 Inferring an Association
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The first approach we will take will be to ask, “Is there an association between
    daily 24-hour average PM10 levels and daily mortality?” This is an inferential
    question and we are attempting to estimate an association. In addition, for this
    question, we know there are a number of potential confounders that we will have
    to deal with.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Let’s take a look at the bivariate association between PM10 and mortality. Here
    is a scatterplot of the two variables.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: '![PM10 and Mortality in New York City](images/inferencepred-unnamed-chunk-5-1.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
- en: PM10 and Mortality in New York City
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: There doesn’t appear to be much going on there, and a simple linear regression
    model of the log of daily mortality and PM10 seems to confirm that.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '`In the table of coefficients above, the coefficient for `pm10tmean` is quite
    small and its standard error is relatively large. Effectively, this estimate of
    the association is zero.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: However, we know quite a bit about both PM10 and daily mortality, and one thing
    we do know is that *season* plays a large role in both variables. In particular,
    we know that mortality tends to be higher in the winter and lower in the summer.
    PM10 tends to show the reverse pattern, being higher in the summer and lower in
    the winter. Because season is related to *both* PM10 and mortality, it is a good
    candidate for a confounder and it would make sense to adjust for it in the model.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: Here are the results for a second model, which includes both PM10 and season.
    Season is included as an indicator variable with 4 levels.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '`Notice now that the `pm10tmean` coefficient is quite a bit larger than before
    and its `t value` is large, suggesting a strong association. How is this possible?'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: It turns out that we have a classic example of [Simpson’s Paradox](https://en.wikipedia.org/wiki/Simpson%27s_paradox)
    here. The overall relationship between P10 and mortality is null, but when we
    account for the seasonal variation in both mortality and PM10, the association
    is positive. The surprising result comes from the opposite ways in which season
    is related to mortality and PM10.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: So far we have accounted for season, but there are other potential confounders.
    In particular, weather variables, such as temperature and dew point temperature,
    are also both related to PM10 formation and mortality.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: In the following model we include temperature (`tmpd`) and dew point temperature
    (`dptp`). We also include the `date` variable in case there are any long-term
    trends that need to be accounted for.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '`Notice that the `pm10tmean` coefficient is even bigger than it was in the
    previous model. There appears to still be an association between PM10 and mortality.
    The effect size is small, but we will discuss that later.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: Finally, another class of potential confounders includes other pollutants. Before
    we place blame on PM10 as a harmful pollutant, it’s important that we examine
    whether there might be another pollutant that can explain what we’re observing.
    NO2 is a good candidate because it shares some of the same sources as PM10 and
    is known to be related to mortality. Let’s see what happens when we include that
    in the model.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '`Notice in the table of coefficients that the `no2tmean` coefficient is similar
    in magnitude to the `pm10tmean` coefficient, although its `t value` is not as
    large. The `pm10tmean` coefficient appears to be statistically significant, but
    it is somewhat smaller in magnitude now.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Below is a plot of the PM10 coefficient from all four of the models that we
    tried.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: '![Association Between PM10 and Mortality Under Different Models](images/inferencepred-unnamed-chunk-10-1.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
- en: Association Between PM10 and Mortality Under Different Models
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: With the exception of Model 1, which did not account for any potential confounders,
    there appears to be a positive association between PM10 and mortality across Models
    2–4\. What this means and what we should do about it depends on what our ultimate
    goal is and we do not discuss that in detail here. It’s notable that the effect
    size is generally small, especially compared to some of the other predictors in
    the model. However, it’s also worth noting that presumably, everyone in New York
    City breathes, and so a small effect could have a large impact.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: 8.3 Predicting the Outcome
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Another strategy we could have taken is to ask, “What best predicts mortality
    in New York City?” This is clearly a prediction question and we can use the data
    on hand to build a model. Here, we will use the [random forests](https://en.wikipedia.org/wiki/Random_forest)
    modeling strategy, which is a machine learning approach that performs well when
    there are a large number of predictors. One type of output we can obtain from
    the random forest procedure is a measure of *variable importance*. Roughly speaking,
    this measure indicates how important a given variable is to improving the prediction
    skill of the model.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: Below is a variable importance plot, which is obtained after fitting a random
    forest model. Larger values on the x-axis indicate greater importance.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: '![Random Forest Variable Importance Plot for Predicting Mortality](images/inferencepred-unnamed-chunk-11-1.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
- en: Random Forest Variable Importance Plot for Predicting Mortality
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: Notice that the variable `pm10tmean` comes near the bottom of the list in terms
    of importance. That is because it does not contribute much to predicting the outcome,
    mortality. Recall in the previous section that the effect size appeared to be
    small, meaning that it didn’t really explain much variability in mortality. Predictors
    like temperature and dew point temperature are more useful as predictors of daily
    mortality. Even NO2 is a better predictor than PM10.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: However, just because PM10 is not a strong predictor of mortality doesn’t mean
    that it does not have a relevant association with mortality. Given the tradeoffs
    that have to be made when developing a prediction model, PM10 is not high on the
    list of predictors that we would include–we simply cannot include every predictor.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，仅仅因为 PM10 不是死亡率的强预测因子，并不意味着它与死亡率没有相关联。考虑到开发预测模型时必须进行的权衡，PM10 并不是我们会包含在内的预测因子列表中的前几名--我们无法简单地包含每个预测因子。
- en: 8.4 Summary
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 8.4 总结
- en: In any data analysis, you want to ask yourself “Am I asking an inferential question
    or a prediction question?” This should be cleared up *before* any data are analyzed,
    as the answer to the question can guide the entire modeling strategy. In the example
    here, if we had decided on a prediction approach, we might have erroneously thought
    that PM10 was not relevant to mortality. However, the inferential approach suggested
    a statistically significant association with mortality. Framing the question right,
    and applying the appropriate modeling strategy, can play a large role in the kinds
    of conclusions you draw from the data.````
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何数据分析中，你都要问自己：“我是在问一个推断性问题还是一个预测性问题？”在分析任何数据之前，这一点都应该被搞清楚，因为问题的答案可以指导整个建模策略。在这个例子中，如果我们决定采取预测方法，我们可能会错误地认为
    PM10 与死亡率无关。然而，推断性方法却表明 PM10 与死亡率存在统计学上显著的关联。正确地构建问题，并应用适当的建模策略，可以在你从数据中得出的结论类型中起到重要作用。
