- en: Use govendor to implement vendoring
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Use govendor to implement vendoring
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The meaning of vendoring in `Go` is squeezing a project''s all dependencies
    into its `vendor` directory. Since `Go 1.6`, if there is a `vendor` directory
    in current package or its parent''s directory, the dependency will be searched
    in `vendor` directory **first**. [Govendor](https://github.com/kardianos/govendor)
    is such a tool to help you make use of the `vendor` feature. In the following
    example, I will demonstrate how to use `govendor` step by step:'
  prefs: []
  type: TYPE_NORMAL
- en: '(1) To be more clear, I clean `$GOPATH` folder first:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '(2) I still use [playstack](https://github.com/NanXiao/playstack) project to
    do a demo, download it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'The `playstack` depends on another 3rd-party package: [stack](https://github.com/NanXiao/stack).'
  prefs: []
  type: TYPE_NORMAL
- en: '(3) Install `govendor`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '(4) Change to `playstack` directory, and run "`govendor init`" command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'You can see there is an additional `vendor` folder which contains `vendor.json`
    file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '(5) Execute "`govendor add +external`" command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Yeah, the `stack` project is copied to `vendor` directory now. Look at `vendor/vendor.json`
    file again:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: The `stack` package info has been updated in `vendor/vendor.json` file.
  prefs: []
  type: TYPE_NORMAL
- en: 'Notice: "`govendor add`" copies packages from `$GOPATH`, and you can use "`govendor
    fetch`" to download packages from network. You can verify it through removing
    `stack` package in `$GOPATH`, and execute "`govendor fetch github.com/NanXiao/stack`"
    command.'
  prefs: []
  type: TYPE_NORMAL
- en: '(6) Update `playstack` in `github`:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](ce10fd8a.JPG)'
  prefs: []
  type: TYPE_IMG
- en: 'This time, clean `$GOPATH` folder and run "`go get github.com/NanXiao/playstack/play`"
    again:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Compared to previous case, it is no need to store `stack` in `$GOPATH/src/github.com/NanXiao`
    directory, since `playstack` has embedded it in its `vendor` folder.
  prefs: []
  type: TYPE_NORMAL
- en: This is just a simple intro of `govendor`, for more commands' usages, you should
    visit its project [home page](https://github.com/kardianos/govendor).
  prefs: []
  type: TYPE_NORMAL
- en: 'Reference:'
  prefs: []
  type: TYPE_NORMAL
- en: '[What does the term “vendoring” or “to vendor” mean for Ruby on Rails?](http://stackoverflow.com/questions/11378921/what-does-the-term-vendoring-or-to-vendor-mean-for-ruby-on-rails);'
  prefs: []
  type: TYPE_NORMAL
- en: '[Understanding and using the vendor folder](https://blog.gopheracademy.com/advent-2015/vendor-folder/);'
  prefs: []
  type: TYPE_NORMAL
- en: '[Go Vendoring Beginner Tutorial](https://gocodecloud.com/blog/2016/03/29/go-vendoring-beginner-tutorial/).'
  prefs: []
  type: TYPE_NORMAL
