- en: 8 Integration (draft)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 8 Integration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Most of the time we are not starting a new app, we just want to use react-native
    to develop some new features, so integration should be a necessary skill for react-native
    developers.
  prefs: []
  type: TYPE_NORMAL
- en: Assume that you have create some features in the AwesomeProject, you want to
    create an exactly same environment for your current project.
  prefs: []
  type: TYPE_NORMAL
- en: '![](integrationdemo.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Notice that** version is very important after your app published. If you
    want to upgrade react-native and package codes, that almost means you don''t want
    to maintain the old version any longer.'
  prefs: []
  type: TYPE_NORMAL
- en: 8.1 iOS
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 8.1 iOS
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Cocoapods with local path
  prefs:
  - PREF_UL
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Requirement : [CocoaPods](https://cocoapods.org/)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'After pod **version > 1.0**, you need to identify the target. Create ''Podfile''
    in project root folder :'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: then `pod install`
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![](pod_integration.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 8.1.1 Package
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 9.1.1 Package
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 8.1.2 Image
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 9.1.2 Image
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Cache path
  prefs:
  - PREF_UL
  - PREF_H3
  type: TYPE_NORMAL
- en: 8.2 Android
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 8.2 Android
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: At first I followed the official instruction (which seems very simple) but lots
    of build or runtime error occurs ðŸ˜‚.
  prefs: []
  type: TYPE_NORMAL
- en: 'Such as:'
  prefs: []
  type: TYPE_NORMAL
- en: '`Can''t find variable: __fbBatchedBridge (<unknown file>:1)`'
  prefs: []
  type: TYPE_NORMAL
- en: '`java.lang.UnsatisfiedLinkError: could find DSO to load: libreactnativejni.so`'
  prefs: []
  type: TYPE_NORMAL
- en: '`android.view.WindowManager$BadTokenException: Unable to add window android.view.ViewRootImpl$W@5d992cf
    -- permission denied for this window type`'
  prefs: []
  type: TYPE_NORMAL
- en: 'But the demo works corrcetly, so I decided to copy the build settings of it.
    And finally it works normally on my Nexus 5X. Steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Add the path to the root gradle file, ![](integration_android_step11.png)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Modify the app gradle file, ![](integration_android_step22.png)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*1\. Official demo use this variable to control wheather building different
    apps for cpus, that will reduce the size of each app, I just ignore it here.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '*2\. The version support package matters.. As react-native Android use many
    open source projects, if you use some of them already, you should check the version
    or exclude the from dependencies. [The list currently](https://github.com/facebook/react-native/blob/master/ReactAndroid/build.gradle)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Modify root gradle.properties, ![](integration_android_step3.png)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add proguard rules, ![](integration_android_step4.png)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AndroidManifest.xml, you can remove the permission if you don't need debug mode.
    ![](integration_android_step5.png)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 8.2.1 Package
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 9.2.1 Package
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 8.3 Before publishing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 8.3 Before publishing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Turn off debug Settings.
  prefs:
  - PREF_UL
  - PREF_H3
  type: TYPE_NORMAL
- en: Implementation of exception handler.
  prefs:
  - PREF_UL
  - PREF_H3
  type: TYPE_NORMAL
- en: 8.4 Resources
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 8.3 Resources
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Integrating with Existing Apps - iOS](https://facebook.github.io/react-native/docs/embedded-app-ios.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Integrating with Existing Apps - Android](https://facebook.github.io/react-native/docs/embedded-app-android.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 9.3 Resources
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 9.3 Resources
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[React Native Module for CodePush](http://microsoft.github.io/code-push/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[JSPatch](https://github.com/bang590/JSPatch)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
