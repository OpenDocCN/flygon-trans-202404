- en: Build kernel
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建内核
- en: Build kernel
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建内核
- en: 'If you want to build a custom kernel yourself, you need to install the source
    code firstly (you can take [post](install-source-code.html) as a reference). Then
    enter the configuration directory of your machine:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想要自定义构建内核，您需要首先安装源代码（您可以参考[此文](install-source-code.html)）。然后进入您的机器的配置目录：
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Copy a new kernel configuration file:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 复制一个新的内核配置文件：
- en: '[PRE1]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You can modify the new configuration file (`NAN_FIRST_BUILD`) according to your
    needs.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以根据需要修改新的配置文件（`NAN_FIRST_BUILD`）。
- en: 'Build the kernel:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 构建内核：
- en: '[PRE2]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Once it is finished, install the fresh kernel binary and reboot:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成，安装新的内核二进制文件并重新启动：
- en: '[PRE3]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Check the kernel version, you will find now the OS is harnessing your newly
    built kernel now:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 检查内核版本，您会发现现在操作系统正在使用您新构建的内核：
- en: '[PRE4]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Reference:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 参考：
- en: '[How to build a custom kernel in FreeBSD](https://www.youtube.com/watch?v=KVNxaKu11F0).'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[在FreeBSD中构建自定义内核的方法](https://www.youtube.com/watch?v=KVNxaKu11F0)。'
