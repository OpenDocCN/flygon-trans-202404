- en: Substitution CachesTuesday, January 31st
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[PLAI §5](plai.pdf#chapter.5 "Deferring Substitution") (called “deferred substitutions”
    there)'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Evaluating using substitutions is very inefficient — at each scope, we copy
    a piece of the program AST. This includes all function calls which implies an
    impractical cost (function calls should be *cheap*!).
  prefs: []
  type: TYPE_NORMAL
- en: To get over this, we want to use a cache of substitutions.
  prefs: []
  type: TYPE_NORMAL
- en: 'Basic idea: we begin evaluating with no cached substitutions, then collect
    them as we encounter bindings.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Implies another change for our evaluator: we don’t really substitute cache
    at that point.'
  prefs: []
  type: TYPE_NORMAL
