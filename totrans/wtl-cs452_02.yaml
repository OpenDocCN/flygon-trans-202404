- en: Lecture 2 - Polling Loops
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Pubilc Service Annoucements
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Due date for assignment 0
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Ubuntu 10.10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[How to compile and run your first program](../pdf/first.pdf)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Caches, optimization, clock speed, FIFOs
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Libraries: memcpy in particular'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: 'Practical Details: [pdf](../pdf/intro.pdf)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: What is real-time programming?
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Actually real-world programming, which means
  prefs: []
  type: TYPE_NORMAL
- en: World is measured in seconds, metres, etc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Programs manipulate bits, bytes, words, which must be translated into into real-world
    measures.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For example,
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'formatted output: translate from int, which computers manipulate, to decimal,
    which humans read'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'out in the open: i2a( ), printf( )'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'hidden: print, cout'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Banking: int translates into, e.g., number of cents'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: program says dispense( 10000 ), which means `put five twenties into the hopper'.
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: microcontrollers start
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: activating motors
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: sensing forces
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: reading digitized video
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: etc.
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Train control: contents of messages map, sometimes indirectly, into changes
    in speed of trains, state changes (turn-outs, train locations), sensor reports.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: What is important for real-time?
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Throughput
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: e.g., number of frames per second in a game
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: e.g., frequency of sensor sampling in process control
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: no solution except
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: getting better hardware
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: getting better algorithms
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: restructuring the task
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Response time
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: e.g., time from button press to gun firing in game
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: e.g., time from sensor reading to control code executing in process control
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: several programming techniques exist
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: busy-wait
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: polling loop
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: tension between flexibility and performance
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: In cs452 we take guaranteed response time as the defining quality of real-time
    computation.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Timers
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: How does one keep time in a computer?
  prefs: []
  type: TYPE_NORMAL
- en: crystal oscillator in a phase-locked loop
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: interrupts from a timer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ntp
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Polling Loops
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Busy Waiting
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This is used to synchronize with an external event, minimizing response time.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: or in another form
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Sometimes you only want to do the thing once, as you do when putting a character
    on a serial line.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '**Note**. The `volatile` keyword.'
  prefs: []
  type: TYPE_NORMAL
- en: Worst case response time
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: From the time that the ready bit sets until the first instruction of do-it is
    executed
  prefs: []
  type: TYPE_NORMAL
- en: execution time for
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Even a moderately optimizing compiler will produce good machine code. Something
    like
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Here do-it is acquiring a single byte from interface hardware when the status
    register indicates that valid data is available in the dara register.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Worst case response time is the execution of `and`, `beq`, `ldb`, `and` and
    `beq`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Normally code like this would be inside a loop, acquiring one byte after another
    until no more are available.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The problem with busy-waiting
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: What if the CPU has to two things at once?
  prefs: []
  type: TYPE_NORMAL
- en: E.g.,
  prefs: []
  type: TYPE_NORMAL
- en: collect bytes coming in a serial port
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: maintain a clock
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Unless the rate of bytes coming in and rate of clock ticks are identical
  prefs: []
  type: TYPE_NORMAL
- en: you are guaranteed to lose something sooner or later.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Polling Loops
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Polling loops allow you to manage more than one condition/activity pair at the
    same time.
  prefs: []
  type: TYPE_NORMAL
- en: The basic polling loop
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Worst case response time
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: sum over n of {execution time of `if( c<n>` ) + execution time of `a<n>}`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What you put into an action matters a lot.
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Suppose you put busy-wait I/O to the train controller into an action
  prefs: []
  type: TYPE_NORMAL
- en: Will you catch it in your testing?
  prefs: []
  type: TYPE_NORMAL
- en: Probably not.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Testing more than once
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Suppose you want a better response time for a1\. Then try the loop
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Worst case response time for `a1`
  prefs: []
  type: TYPE_NORMAL
- en: execution time for `if( c1 )` + maximum over n of execution time for `if( cn
    ) an`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Breaking into pieces
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: Suppose the response time is still too long, because the execution of one action,
    say a2, is too long. Then you can break a2 into two parts
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: This is strarting to get a little complicated and we haven't said anything about
    inter-action communication
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: 'Return to:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Bill Cowan''s lecture notes for CS452 in s12](index.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Bill Cowan''s Spring 2012 CS452 page](../index.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Bill Cowan''s CS452 page](../../index.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Bill Cowan''s teaching page](../../../index.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Bill Cowan''s home page](../../../../index.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
