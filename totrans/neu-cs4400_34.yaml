- en: Evaluating with Substitution CachesTuesday, February 7th
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Implementing the new `eval` is easy now — it is extended in the same way that
    the formal `eval` rule is extended:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Again, note that we don’t need `subst` anymore, but the rest of the code (the
    data type definition, parsing, and `arith-op`) is exactly the same.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, we need to make sure that `eval` is initially called with an empty
    cache. This is easy to change in our main `run` entry point:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The full code (including the same tests, but not including formal rules for
    now) follows. Note that one test does not pass.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
