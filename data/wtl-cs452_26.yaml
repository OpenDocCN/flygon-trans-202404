- en: Lecture 26 - Demos, Reservations
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第26讲 - 演示，预订
- en: Public Service Annoucements
  id: totrans-1
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 公共服务公告
- en: Final exam date
  id: totrans-2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 期末考试日期
- en: Comments from yesterday's demo
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 昨天演示的评论
- en: We had a positive impression
  id: totrans-4
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们留下了积极的印象
- en: It is normal for groups to be a different levels, because it is unpredictable
    when the 48 hou and 72-hour bugs will appear
  id: totrans-5
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 小组处于不同水平是正常的，因为48小时和72小时的错误出现是不可预测的
- en: Remember that this milestone had three discrete parts
  id: totrans-6
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请记住，这个里程碑有三个离散部分
- en: Knowing the stopping distance
  id: totrans-7
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知道停车距离
- en: Knowing where the train is when travelling at a fixed speed
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知道火车在以固定速度行驶时的位置
- en: Knowing where the train is when accelerating and decelerating
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知道火车在加速和减速时的位置
- en: There were a variety of ways for doing accel/decel
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有多种方法可以进行加速/减速
- en: All the ones we saw will work
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们看到的所有系统都能正常工作
- en: We don't know enough to assess how time-efficient different approaches are.
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们不了解足够多，无法评估不同方法的时间效率。
- en: There is a workaround for acceleration/deceleration that works pretty well
  id: totrans-13
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有一个关于加速/减速的解决方法效果相当不错
- en: Try using one dynamic parameter to tune all the other parameters
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试使用一个动态参数来调整所有���他参数
- en: Normalized units are very helpful here
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准化单位在这里非常有帮助
- en: A good UI shows you a lot of information that is useful when something funny
    occurs
  id: totrans-16
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个良好的用户界面向你展示了很多在出现有趣情况时有用的信息
- en: E.g. a turn-out switches under a traveling train
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如：在行驶的火车下面的转向开关
- en: Was the train ahead of its calibration? Or was the switch command given too
    late?
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 火车是否超前于其校准？或者是切换命令给得太晚了？
- en: Some groups had demos that seemed unsatisfactory because everything was 80%
    done
  id: totrans-19
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些小组的演示看起来不尽人意，因为一切都完成了80%
- en: Two parts operating robustly is
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个部分的稳健运行是
- en: more impressive and easier to judge for your audience
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于你的观众来说更加令人印象深刻和更容易判断
- en: more encouraging to you
  id: totrans-22
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对你更加鼓舞
- en: quicker to accomplish
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更快地完成
- en: than three parts that are 80% complete
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 而不是三个部分完成80%
- en: Some things we saw may give problems when you have more than one train on the
    tracks
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一些我们看到的东西可能在轨道上有多列火车时会出问题
- en: Setting all the switches at once
  id: totrans-26
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同时设置所有开关
- en: Refinding the train as standard operating procedure
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新找到火车作为标准操作程序
- en: Not keeping track of train position as it is stopping
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在火车停止时不跟踪火车位置
- en: '* * *'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Sensor Attribution
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 传感器归因
- en: Predictions work fine once you know where the trains are. How do you find them
    at the beginning?
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦知道火车在哪里，预测就能正常工作。如何在开始时找到它们？
- en: Easy when there is only one train on the track
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当轨道上只有一列火车时很容易
- en: Move it very slowly until you encounter a sensor, now you know where it is
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将其移动得非常缓慢，直到遇到传感器，现在你知道它在哪里
- en: Not a bad idea to get a second sensor to confirm direction.
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取第二个传感器以确认方向并不是一个坏主意。
- en: Hard when there is more than one train on the track
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当轨道上有多列火车时很困难
- en: To which train do you attribute the next sensor hit
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你将下一个传感器撞击归因于哪列火车
- en: Trains may collide before they are found
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 火车可能在被发现之前相撞
- en: How might you do this for multiple trains?
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 如何为多列火车做到这一点？
- en: One at a time.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一次一个。
- en: Starting the next train
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 启动下一列火车
- en: Stop the previous trains in convenient places
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在方便的地方停止之前的火车
- en: Start start this train slowly, you don't know where it is.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 缓慢启动这列火车，你不知道它在哪里。
- en: When it hits a sensor
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当它撞击传感器时
- en: make a prediction about the next sensor it will hit
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对它将要撞击的下一个传感器做出预测
- en: get permission, probably a track reservation, to travel beyond the next sensor
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获得许可，可能是轨道预订，以超越下一个传感器
- en: Conclude that you know where the train is when it hits the predicted sensor.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 推断当火车撞击预测传感器时，你知道火车在哪里。
- en: '* * *'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: A Typical Reservation System
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 典型的预订系统
- en: A reservation system is not the only way to keep trains from hitting one another.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 预订系统不是防止火车相撞的唯一方法。
- en: The reservation system described below is not the only reservation system that
    works. I created it to illustrate the problems you must solve when you are keeping
    trains from colliding.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 下面描述的预订系统不是唯一有效的预订系统。我创建它是为了说明在防止火车相撞时必须解决的问题。
- en: In past terms, students have succeeded using
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的学期，学生们成功地使用了
- en: systems similar to the one described below
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类似于下面描述的系统
- en: systems that didn't break the track into blocks but gave out reservations of
    arbitrary size
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统没有将轨道分成块，而是提供任意大小的预订。
- en: systems that gave reservation that were areas covered by the track rather than
    lines the length of the track..
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统提供的预订是轨道覆盖的区域，而不是轨道长度的线。
- en: Reducing the need for communication with the train controller by doing more
    computation on the CPU consistenly outperform.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在 CPU 上进行更多的计算来减少与列车控制器的通信，始终表现更好。
- en: Hard Conditions
  id: totrans-56
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 严格条件
- en: Needed to avoid collisions
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 需要避免碰撞
- en: '**Every train must have a reservation for the track it occupies.'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**每辆火车必须为其所占用的轨道预订。'
- en: '**Every train must travel at a low enough velocity that it can stop before
    the end of the track it has reserved.'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**每辆火车必须以足够低的速度行驶，以便在其预订结束之前停下来。'
- en: '**Every train should reserve enough to handle single sensor or (exclusive)
    single switch errors.'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**每辆火车应该预订足够处理单个传感器或（独占）单个开关错误。'
- en: '**No piece of track should ever be reserved by more than one train.'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**任何轨道都不应该被多辆火车预订。'
- en: Soft Conditions
  id: totrans-62
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 软条件
- en: Needed to keep the trains moving
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 保持火车运行所需
- en: Every train must release blocks it no longer occupies and will not occupy in
    the immediate future.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每辆火车必须释放它不再占用并且在不久的将来也不会占用的区块。
- en: If a train is stopped it would normally have a reservation for only one block,
    but it might have a reservation for two blocks.
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果火车停下来，通常只会有一个区块的预订，但也可能有两个区块的预订。
- en: Every reservation held by a train should be contiguous
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个火车持有的预订应该是连续的
- en: Who enforces these conditions?
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 谁执行这些条件？
- en: Nobody does so explicitly.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有人明确这样做。
- en: There are several constraints
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有几个约束条件
- en: The reservation server always gives out reservations that are contiguous.
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预订服务器总是提供连续的预订。
- en: The reservation server never gives out an already reserved piece of track.
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预订服务器永远不会分配已经预订的轨道。
- en: The reservation serve never revokes a reservation.
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预订服务器永远不会撤销预订。
- en: The train always travels slowly enough that it can stop within its current reservation
    if a request for extension is refused.
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 火车始终以足够慢的速度行驶，以便如果拒绝延长请求，则可以在当前预订内停下来。
- en: Responsibility for enforcement is distributed.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执法责任是分散的。
- en: There is a situation in which these conditions cannot be enforced?
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 是否存在无法执行这些条件的情况？
- en: What is it?
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这是什么？
- en: Here's how it works in theory
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这是理论上的工作原理
- en: Train gets a route from the route finder, and looks ahead along the route.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 火车从路径查找器获取路径，并沿着路径向前查看。
- en: Train has a desired speed.
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 火车有所需的速度。
- en: Train asks reservation system for several blocks of track along the route
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 火车向预订系统请求沿途的几个区块轨道
- en: Blocks usually end at switches and/or sensors
  id: totrans-81
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区块通常在开关和/或传感器处结束
- en: If you are ending blocks at switches you must know well enough how enough where
    the train is to be confident it is completely clear of the switch.
  id: totrans-82
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您在开关处结束区块，您必须足够了解火车的位置，以确保它完全清除了开关。
- en: Reservation system grants the blocks if they are available
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果可用，预订系统会授予这些区块
- en: Grants include the condition that the train must travel so that it can come
    to a complete stop without leaving any reserved block.
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预订包括火车必须行驶的条件，以便它可以完全停下而不离开任何预订的区块。
- en: Here's one way for it to work in practice
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这是实际工作的一种方式
- en: A train receives a reservation that will allow it to travel at its desired speed
    for one or more blocks.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 火车收到一个预订，允许它以所需速度行驶一个或多个区块。
- en: The reservation includes enough track at the end of these blocks so that the
    train can stop before reaching the end of its reservation.
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预订包括这些区块末端足够的轨道，以便火车在到达其预订末端之前停下来。
- en: Each time the train leaves a block it frees the reservation it had for that
    block.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每次火车离开一个区块时，它会释放对该区块的预订。
- en: Before reaching the end of the blocks on which it can travel at speed, it requests
    an extention of its reservation.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在到达可以以速度行驶的区块末端之前，请求延长其预订。
- en: If the request is granted it continues travelling at speed.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果请求被批准，它会继续以速度行驶。
- en: Otherwise it starts slowing down so that it stops before the end of its reservation.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 否则，它会开始减速，以至于在其预订结束之前停止。
- en: Reservation Implementation
  id: totrans-92
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 预订实施
- en: 'You might grant reservations as follows:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按以下方式授予预订：
- en: Every time a train receives a sensor report it does its reservation procedure
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 每次火车收到传感器报告时，都会执行其预订程序
- en: Release the reservation I just vacated
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 释放我刚刚空出的预订
- en: If I give a stop signal at the next sensor can I stop within my reservation?
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果我在下一个传感器处发出停止信号，我能否在我的预订内停下来？
- en: If yes, finished
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果是的，完成
- en: If no, how much do I need beyond my current reservation?
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果没有，我需要超出当前预订多少？
- en: Request what's needed, possibly more
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请求所需的内容，可能更多
- en: Indicate the order in which you want the reservations (contiguity).
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指示您希望预订的顺序（连续性）。
- en: This depends on the direction in which you are travelling, which it's not necessary
    for the reservation server to know.
  id: totrans-101
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这取决于您所行进的方向，这对于预订服务器来说并非必要。
- en: It could be deduced by the reservation server, but why bother.
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这可以由预订服务器推断，但为什么要麻烦呢。
- en: Reservation server gives as much as it can
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预订服务器尽可能多地提供
- en: Train rechecks stopping condition using the complete reservation.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用完整的预订来重新检查停止条件。
- en: If yes, finished
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果是，完成
- en: If no, stop, or slow down so that the stopping condition is yes.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果不是，则停止，或减速以使停止条件为是。
- en: '* * *'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Return to:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 返回至：
- en: '[Bill Cowan''s lecture notes for CS452 in s12](index.html)'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[比尔·考温在s12学期的CS452讲义](index.html)'
- en: '[Bill Cowan''s Spring 2012 CS452 page](../index.html)'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[比尔·考温2012年春季CS452页面](../index.html)'
- en: '[Bill Cowan''s CS452 page](../../index.html)'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[比尔·考温的CS452页面](../../index.html)'
- en: '[Bill Cowan''s teaching page](../../../index.html)'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[比尔·考温的教学页面](../../../index.html)'
- en: '[Bill Cowan''s home page](../../../../index.html)'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[比尔·考温的主页](../../../../index.html)'
